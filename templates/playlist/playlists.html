{% extends 'base.html' %}
{% load static %}
{% block content %}
{% load widget_tweaks %}

<div class="col-md-2">
</div>

<div class="col-md-4">
  <div class="panel panel-default">
    <div class="panel-body">
      <form method="post" class="form-inline" novalidate>
        {% csrf_token %}
        {{ form.title|attr:"placeholder:Playlist Title"|add_class:"form-control" }}
        {{ form.title.errors }}
        <button type = 'submit' class="btn btn-default">Create Playlist</button>
      </form>
      <form method="POST" action-url="{% url 'search_playlist' %}" id="search_playlist" class="form-inline" novalidate>
        {% csrf_token %}
        {{ search_form.keyword|attr:"placeholder:Enter Keyword"|add_class:"form-control" }}
        <button type='submit' class="btn btn-default">Search</button>
        <button id="all_playlist" url="{% url 'search_playlist' %}" class="btn btn-default">All</button>
      </form>
    </div>
  </div>
</div>

<div class="col-md-4">
  <div id="playlists">
  {% if playlists %}
    {% for playlist in playlists %}
     <div class="media">
      <div class="media-left">
        <a href="#">
          {% if playlist.get_thumb_url %}
            <img class="media-object" src="{{ playlist.get_thumb_url }}">
          {% else %}
            <img class="media-object" src="{% static 'picture/playlist_default.jpg' %}" width="120px" height="90px">
          {% endif %}
        </a>
      </div>
      <div class="media-body">
        <h4 class="media-heading"><a href="{% url 'playlist' playlist.id %}">{{ playlist.title }}</a></h4>
        {{ playlist.number_of_songs }} song{{ playlist.number_of_songs|pluralize }}
        <br>
        by {{ playlist.user }}
      </div>
    </div>
    {% endfor %}
  {% else %}
    Create a playlist now!
  {% endif %}
  </div>
</div>

<div class="col-md-2">
</div>

{% endblock %}
